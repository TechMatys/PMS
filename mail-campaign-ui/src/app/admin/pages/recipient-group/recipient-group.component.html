<div class="panel-heading">
  <div class="panel-title">
    <h3>
      Recipient Group
    </h3>
    <hr/>
  </div>
</div>  

<div style="padding-top:10px" class="panel-body" >
<div *ngIf="isShown">
  <button class="btn btn-primary" (click)="addRecipientGroup()" style="float: right;">Add New</button>
  <!-- <img src="../../../../assets/img/loader.png"> -->
  <table class="table">
    <thead class="thead-dark">
      <tr>
        <th scope="col" >Group Name</th>
        <th scope="col">Created Date</th>
        <th scope="col">Action</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let recipientGroup of recipientGroupList; index as i">
          <td>
          {{recipientGroup.groupName}}  
          </td>
          <td>
              {{recipientGroup.createdDate }}
          </td>
          <td>
            <a href="javascript:void(0)" (click)="editRecipientGroup(recipientGroup.recipientGroupId)" style="margin-right: 10px;">Edit</a>   
            <a href="javascript:void(0)" (click)="deleteRecipientGroup(recipientGroup.recipientGroupId)" style="margin-right: 10px;">Delete</a>          
            <!-- <a href="javascript:void(0)" (click)="viewTemplate(template.templateId)">View</a>        -->
          </td>
      </tr>
      </tbody>
  </table>
</div>
    
<div *ngIf="!isShown">          
    <form class="form-horizontal" role="form" [formGroup]="recipientGroupForm">
    <div class="form-group row" style="margin-bottom: 20px;">
      <label for="txtTitle">Group Name</label>      
      <input type="text" class="form-control" id="txtGroupName" placeholder="Group Name" 
      formControlName="groupName" >
    </div>
    <div class="form-group row" style="margin-bottom: 20px;">
      <label for="txtDescription">Description</label>
      <input type="text" class="form-control" id="txtDescription" placeholder="Description" 
      formControlName="description">      
    </div>
    
    <div class="form-group row" style="margin-bottom: 20px;">
      <label for="txtAddress">Email Address</label>
      <input type="text" class="form-control" id="txtAddress" placeholder="Email Address" formControlName="emailAddress">  
      <a href="javascript:void(0)" (click)="addRecipient()" style="margin-right: 10px;">Add to list</a>  
    </div>    
    <div class="form-group row" style="margin-bottom: 20px;">
      <table class="table table-striped">
        <thead>
          <tr>
            <th>Email Address</th>
            <th>Action</th>
          </tr>
        </thead>
        <tbody>
        <tr *ngFor="let recipient of recipientList;">
          <td>
              {{recipient.emailAddress}}
          </td>
          <td>            
            <a href="javascript:void(0)" (click)="editRecipient(recipient)" style="margin-right: 10px;">Edit</a>   
            <a href="javascript:void(0)" (click)="deleteRecipient(recipient)" style="margin-right: 10px;">Delete</a>   
        </td>
        </tr>
        <tr *ngIf="!recipientList.length">
          <td colspan="2">
                <span>No email address added</span>
          </td>
        </tr>
        </tbody>
      </table> 
    </div>

    <div class="form-group row"style="margin-bottom: 20px;">  
      <div class="col-sm-6">        
    <input type="button" *ngIf="isAddNew" class="btn btn-primary" value="Save" style="margin-right: 10px; width:100px;" (click)="saveRecipientGroup()"/>
    <input type="button" *ngIf="!isAddNew" class="btn btn-primary" value="Update" style="margin-right: 10px; width:100px;" (click)="updateRecipientGroup()"/>
    <input type="button" class="btn btn-secondary" value="Cancel" style="width:100px;" (click)="isShown = true"/> 
      </div>     
    </div>
  </form>
</div>
</div>
